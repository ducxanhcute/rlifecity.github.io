define("WoltLabSuite/Forum/Ui/Post/Enable",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Date/Picker","WoltLabSuite/Core/Dom/Util","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Dialog"],(function(e,t,a,o,r,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importDefault(r),i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s);class l{constructor(e,t){this.objectId=e,this.callback=t,o.api(this,{objectIDs:[this.objectId]})}submit(e){e.preventDefault();if(document.getElementById("postEnable_enableNow").checked){const e=document.getElementById("postEnable_enableNowAndUpdateTime");this.callback({updateTime:e.checked}),s.default.close(this)}else o.api(this,{actionName:"setEnableTime",objectIDs:[this.objectId],parameters:{enableTime:r.default.getValue("postEnable_enableTime")}})}_ajaxSuccess(e){"prepareEnable"===e.actionName?s.default.open(this,e.returnValues.template):(this.callback({enableNote:e.returnValues.enableNote}),s.default.close(this))}_ajaxSetup(){return{data:{actionName:"prepareEnable",className:"wbb\\data\\post\\PostAction"}}}_dialogSetup(){return{id:"wbbPostEnable",options:{onClose(){r.default.destroy("postEnable_enableTime")},onShow:e=>{const t=document.getElementById("postEnable_enableNow"),a=document.getElementById("postEnable_enableNowAndUpdateTime");t.addEventListener("change",(()=>{i.default.toggle(document.getElementById("postEnable_enableTimeContainer")),a.disabled=!a.disabled}));e.querySelector(".formSubmit > button").addEventListener("click",(e=>this.submit(e)))},title:n.get("wbb.post.edit.enable")},source:null}}}let d;t.init=function(e,t){d||(d=new l(e,t))}})),define("WoltLabSuite/Forum/Ui/Post/InlineEditor",["require","exports","tslib","WoltLabSuite/Core/Core","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Confirmation","WoltLabSuite/Core/Ui/Message/InlineEditor","./Enable"],(function(e,t,a,o,r,i,n,s){"use strict";o=a.__importStar(o),r=a.__importStar(r),i=a.__importStar(i),n=a.__importDefault(n),s=a.__importStar(s);class l extends n.default{constructor(e,t,a){const r=o.extend({disableEdit:!1},a);super({canEditInline:r.canEditInline,className:"wbb\\data\\post\\PostAction",containerId:e.toString(),dropdownIdentifier:"wbbPost",editorPrefix:"postEditor",quoteManager:r.quoteManager||null}),this.disableEdit=r.disableEdit,this.postManager=t,this.threadId=e}_showMessage(e){const t=this._activeElement;super._showMessage(e),Object.entries(e.returnValues.notes).forEach((([e,a])=>{this.postManager.setNote(this._getObjectId(t),e,a)}));const a=this._elements.get(t);if(e.returnValues.threadFormOptions){const t=a.messageBody.querySelector(".threadFormOptions");if(null!==t)t.innerHTML=e.returnValues.threadFormOptions;else{const t=document.createElement("div");t.classList.add("threadFormOptions"),t.innerHTML=e.returnValues.threadFormOptions,a.messageBody.insertAdjacentElement("afterbegin",t)}}else{const e=a.messageBody.querySelector(".threadFormOptions");null==e||e.remove()}if(void 0!==e.returnValues.isOfficial){const t=a.messageHeader.querySelector(".messageStatus"),o=t.querySelector(".jsIconOfficial"),i=a.messageBody.closest(".message").parentElement;if(e.returnValues.isOfficial){if(!o){const e=document.createElement("li");e.innerHTML=`<span class="badge label blue jsIconOfficial">${r.get("wbb.post.official")}</span>`,t.appendChild(e)}i.classList.add("wbbPostOfficial")}else null==o||o.remove(),i.classList.remove("wbbPostOfficial")}}_dropdownGetItems(){const e="wbb.post.edit.";return[{item:"enable",label:e+"enable"},{item:"disable",label:e+"disable"},{item:"close",label:e+"close"},{item:"open",label:e+"open"},{item:"trash",label:e+"delete"},{item:"restore",label:e+"restore"},{item:"deleteCompletely",label:e+"deleteCompletely"},{item:"divider"},{item:"editItem",label:"wbb.post.edit"}]}_dropdownOpen(){const e=this._getObjectId(this._activeDropdownElement),t=this.postManager.getPermission(e,"close"),a=this.postManager.getPermission(e,"enable"),o=this.postManager.getPropertyValue(e,"is-closed",!0),r=this.postManager.getPropertyValue(e,"is-deleted",!0),i=this.postManager.getPropertyValue(e,"is-disabled",!0);return{close:t&&!o,trash:this.postManager.getPermission(e,"delete")&&!r,deleteCompletely:this.postManager.getPermission(e,"delete-completely")&&r,disable:a&&!i&&!r,enable:a&&i&&!r,open:t&&o,restore:this.postManager.getPermission(e,"restore")&&r,editItem:!this.disableEdit}}_dropdownSelect(e){const t=~~this._getObjectId(this._activeDropdownElement),a=(a={})=>{this.postManager.update(t.toString(),e,a)};switch(e){case"deleteCompletely":i.show({confirm:a,message:r.get("wbb.post.edit.delete.confirmMessage")});break;case"enable":s.init(t,a);break;case"trash":i.show({confirm(){const e=document.getElementById("wbbPostTrashReason");a({reason:e.value.trim()})},message:r.get("wbb.post.edit.trash.confirmMessage"),template:`\n<dl>\n  <dt>\n    <label for="wbbPostTrashReason">${r.get("wbb.post.edit.trash.reason")}</label>\n  </dt>\n  <dd>\n    <textarea id="wbbPostTrashReason" cols="40" rows="3"></textarea>\n  </dd>\n</dl>`});break;default:a()}}_getHash(e){return"#post"+e}}return o.enableLegacyInheritance(l),l})),define("WoltLabSuite/Forum/Ui/Post/Loader",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Controller/Clipboard","WoltLabSuite/Core/Dom/Change/Listener","WoltLabSuite/Core/Dom/Util"],(function(e,t,a,o,r,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importStar(r),i=a.__importDefault(i),n=a.__importDefault(n);class s{constructor(e,t){this.postInlineEditor=null,this.postManager=e,this.postInlineEditor=t,document.querySelectorAll(".wbbPostDeleted").forEach((e=>{e.addEventListener("click",(e=>this.click(e)))}))}click(e){const t=e.target;if("A"===t.nodeName||"INPUT"===t.nodeName)return;const a=~~e.currentTarget.dataset.objectId;this.load([a])}load(e){o.api(this,{objectIDs:e})}_ajaxSuccess(e){var t;const a=document.createElement("div");let o;n.default.setInnerHtml(a,e.returnValues.template),Array.from(a.children).forEach((e=>{if("LI"===e.nodeName)o=e;else if("SCRIPT"===e.nodeName&&o)return void o.appendChild(e);const t=e.querySelector(".wbbPost").dataset.objectId,a=document.getElementById(`post${t}`);a.insertAdjacentElement("beforebegin",e),a.remove()})),this.postManager.rebuild(),null===(t=this.postInlineEditor)||void 0===t||t.rebuild(),r.reload(),i.default.trigger()}_ajaxSetup(){return{data:{actionName:"getPosts",className:"wbb\\data\\post\\PostAction",parameters:{showCollapsedPosts:!0}}}}}let l;t.init=function(e,t){l||(l=new s(e,t))}})),define("WoltLabSuite/Forum/Ui/Post/Manager",["require","exports","tslib","WoltLabSuite/Core/Core","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Notification","WoltLabSuite/Core/Ui/Message/Manager"],(function(e,t,a,o,r,i,n){"use strict";o=a.__importStar(o),r=a.__importStar(r),i=a.__importStar(i),n=a.__importDefault(n);class s extends n.default{constructor(e){super({className:"wbb\\data\\post\\PostAction",selector:".wbbPost"}),this.threadId=e,this.threadUpdateHandler=void 0}setThreadUpdateHandler(e){this.threadUpdateHandler=e}update(e,t,a){a.enableNote?this.setNote(e,"wbbPostDelayedNote",a.enableNote):super.update(e,t,a)}_updateState(e,t,a,o){switch(super._updateState(e,t,a,o),t){case"deleted":{const t=e.dataset.objectId;this._elements.delete(t),e.parentElement&&"LI"===e.parentElement.nodeName?e.parentElement.remove():e.remove();break}case"isClosed":if(o){const t=document.createElement("li");t.className="wbbPostClosed";const a=document.createElement("span");a.classList.add("jsTooltip","icon","icon16","fa-lock"),a.title=r.get("wbb.post.closed"),t.appendChild(a);const o=e.querySelector(".messageQuickOptions");null==o||o.insertAdjacentElement("afterbegin",t)}else{const t=e.querySelector(".wbbPostClosed");null==t||t.remove()}break;case"isDeleted":if(!o){const t=e.querySelector(".wbbPostDeleteNote");null==t||t.remove()}}}_ajaxSuccess(e){var t;if(Object.entries(e.returnValues.postData).forEach((([e,t])=>{void 0!==this._elements.get(e)&&this.updateItems([e],t)})),null===(t=e.returnValues.threadData)||void 0===t?void 0:t[this.threadId]){const t=e.returnValues.threadData[this.threadId];t.deleted?i.show(void 0,(()=>{window.location.href=t.deleted})):this.threadUpdateHandler&&this.threadUpdateHandler.update(this.threadId,t)}}}return o.enableLegacyInheritance(s),s})),define("WoltLabSuite/Forum/Controller/Thread",["require","exports","tslib","WoltLabSuite/Core/Controller/Clipboard","WoltLabSuite/Core/Ui/Reaction/Handler","../Ui/Post/InlineEditor","../Ui/Post/Loader","../Ui/Post/Manager"],(function(e,t,a,o,r,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPostManager=t.getPostInlineEditor=t.getPostLikeHandler=t.init=void 0,o=a.__importStar(o),r=a.__importDefault(r),i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s);let l=null,d=null,c=null,u=0;t.init=function(e,t,a){u=e,t.clipboard&&o.setup({hasMarkedItems:a.clipboard.hasMarkedItems,pageClassName:"wbb\\page\\ThreadPage",pageObjectId:u}),t.postLikeHandler&&(l=new r.default("com.woltlab.wbb.likeablePost",{containerSelector:".wbbPost:not(.messageCollapsed)"})),t.postManager&&(c=new s.default(e),t.postInlineEditor&&(d=new i.default(u,c,a.postInlineEditor)),t.postLoader&&n.init(c,d))},t.getPostLikeHandler=function(){return l},t.getPostInlineEditor=function(){return d},t.getPostManager=function(){return c}})),define("WoltLabSuite/Forum/Ui/Mobile",["require","exports","tslib","WoltLabSuite/Core/Ui/Mobile","WoltLabSuite/Core/Ui/Screen"],(function(e,t,a,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importStar(r),t.init=function(){const e=document.querySelector(".wbbBoardList");if(!e)return;const t=e.getElementsByClassName("wbbBoardMain");r.on("screen-sm-down",{match:()=>o.rebuildShadow(t,".containerHeadline > h3 > a"),unmatch:()=>o.removeShadow(t),setup:()=>o.rebuildShadow(t,".containerHeadline > h3 > a")})}})),define("WoltLabSuite/Forum/Controller/Board/WatchedList",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Core","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Confirmation"],(function(e,t,a,o,r,i,n){"use strict";function s(){return p.filter((e=>e.checked)).map((e=>~~e.dataset.objectId))}function l(e){u();b(!e.currentTarget.checked||void 0)}function d(){const e=r.stringToBool(h.dataset.hasUnmarkedBoards);p.forEach((t=>t.checked=e)),u(),b(!e)}function c(){const e=s(),t=`wbb.board.watchedBoards.${s().length?"stopWatchingMarked":"stopWatchingAll"}.confirmMessage`;n.show({confirm(){o.apiOnce({data:{actionName:"stopWatching",className:"wbb\\data\\board\\BoardAction",objectIDs:e},success(){window.location.reload()}})},message:i.get(t)})}function u(){const e=s();e.length?m.textContent=i.get("wbb.board.watchedBoards.stopWatchingMarked",{count:e.length}):m.textContent=i.get("wbb.board.watchedBoards.stopWatchingAll")}function b(e){void 0===e&&(e=p.every((e=>e.checked))),h.dataset.hasUnmarkedBoards=e?"true":"false";const t=e?"markAll":"unmarkAll";h.querySelector("span:not(.icon)").textContent=i.get(`wbb.board.watchedBoards.${t}`)}let m;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0,o=a.__importStar(o),r=a.__importStar(r),i=a.__importStar(i),n=a.__importStar(n);const p=[];let h;t.setup=function(){document.querySelectorAll(".wbbBoard .containerHeadline > h3").forEach((e=>{const t=document.createElement("input");t.type="checkbox";const a=e.closest(".wbbBoardContainer");t.dataset.objectId=a.dataset.boardId,t.addEventListener("change",l),t.style.setProperty("margin-right","7px",""),p.push(t),e.insertAdjacentElement("afterbegin",t)})),m=document.getElementById("stopWatchingButton"),m.addEventListener("click",c),h=document.getElementById("markAllWatchedBoards"),h.addEventListener("click",d),h.dataset.hasUnmarkedBoards="1"}})),define("WoltLabSuite/Forum/Controller/Thread/LabelCondition",["require","exports","tslib","WoltLabSuite/Core/Core","WoltLabSuite/Core/Dom/Util"],(function(e,t,a,o,r){"use strict";o=a.__importStar(o),r=a.__importDefault(r);class i{constructor(e,t){if(this._boardSelector=document.getElementById(e),null!==this._boardSelector)this._boardSelector.addEventListener("change",(()=>this.change()));else{if(this._boardSelector=document.getElementById(`${e}Container`),null===this._boardSelector)throw new Error(`Unknown board selector with id '${e}.`);this._boardSelector.querySelectorAll("input").forEach((e=>e.addEventListener("change",(()=>this.change()))))}if(this._labelGroupMapping=t,this._labelLists=Array.from(document.querySelectorAll(".labelList")),0===this._labelLists.length)return;this.change();this._labelLists[0].closest("form").addEventListener("submit",(()=>this.submit()))}change(){let e;e=this._boardSelector instanceof HTMLSelectElement?this._boardSelector.multiple?Array.from(this._boardSelector.options).filter((e=>e.selected)).map((e=>~~e.value)):[~~this._boardSelector.value]:Array.from(this._boardSelector.querySelectorAll("input")).filter((e=>e.checked)).map((e=>~~e.value));let t=[];e.length&&(t=this._labelGroupMapping[e[0]]||[],t=t.filter((t=>{for(const a of e){if(!(this._labelGroupMapping[a]||[]).includes(t))return!1}return!0}))),this._labelLists.forEach((e=>{const a=~~e.dataset.objectId,o=e.closest("dl");t.includes(a)?r.default.show(o):r.default.hide(o)}))}submit(){this._labelLists.forEach((e=>{const t=e.querySelector("dl");if(r.default.isHidden(t)){const t=e.querySelector(".labelChooser");window.jQuery(t).data("labelID",0)}}))}}return o.enableLegacyInheritance(i),i})),define("WoltLabSuite/Forum/Ui/Post/ThreadFormInline",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Dom/Util","WoltLabSuite/Core/Event/Handler","WoltLabSuite/Core/Language"],(function(e,t,a,o,r,i,n){"use strict";function s(){const e={values:{}};return b.forEach(((t,a)=>{const o=document.getElementById(a);if(null===o&&t.elementRequired)throw new Error(`[WoltLabSuite/Forum/Ui/Post/ThreadFormInline] Unable to locate given element '${a}'.`);e.values[a]=t.valueCallback(o)})),e}function l(e){e.promises.push(new Promise(((e,t)=>{const a=~~c.closest("article").dataset.postId;o.apiOnce({data:{className:"wbb\\data\\post\\PostAction",actionName:"validateThreadFormValues",objectIDs:[a],parameters:s()},success(a){const o=Object.entries(a.returnValues.errors);0===o.length?e():(o.forEach((([e,t])=>{"empty"===t?t=n.get("wcf.global.form.error.empty"):"validationFailed"===t&&(t=n.get("wcf.acp.customOption.error.validationFailed"));const a=document.getElementById(e);r.default.innerError(a,t)})),window.jQuery(`.messageTabMenu[data-wysiwyg-container-id='${u}']`).messageTabMenu("showTab","threadFormOptions",!0),t())},failure:()=>(t(new Error("[WoltLabSuite/Forum/Ui/Post/ThreadFormInline] Unable to validate thread form data due an unknown validate error.")),!1)})})))}function d(e){e.threadFormOptions=s()}let c,u;Object.defineProperty(t,"__esModule",{value:!0}),t.registerElement=t.init=void 0,o=a.__importStar(o),r=a.__importDefault(r),i=a.__importStar(i),n=a.__importStar(n);const b=new Map;t.init=function(e,t){const a=document.getElementById(e);if(null===a)throw new Error("[WoltLabSuite/Forum/Ui/Post/ThreadFormInline] Unable to locate given container.");c=a,u=t,i.add("com.woltlab.wcf.redactor2",`submit_${u}`,d),i.add("com.woltlab.wcf.redactor2",`validate_${u}`,l)},t.registerElement=function(e,t,a=!0){"function"!=typeof t&&(t=e=>e.value),b.set(e,{valueCallback:t,elementRequired:a})}})),define("WoltLabSuite/Forum/Ui/Thread/BestAnswer",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Core","WoltLabSuite/Core/Dom/Change/Listener","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Confirmation"],(function(e,t,a,o,r,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importStar(r),i=a.__importStar(i),n=a.__importStar(n),s=a.__importStar(s);class l{constructor(e,t){this.knownButtons=new WeakSet,this.threadId=e,this.container=document.querySelector(t||".wbbThreadPostList"),this.initButtons(),i.add(`WoltLabSuite/Forum/Ui/Thread/BestAnswer-${this.threadId}`,(()=>this.initButtons()))}initButtons(){this.container.querySelectorAll(".jsMarkAsBestAnswer").forEach((e=>{this.knownButtons.has(e)||(e.addEventListener("click",(t=>this.click(t,e))),this.knownButtons.add(e))}))}click(e,t){e.preventDefault();const a=~~t.dataset.objectId;r.stringToBool(t.dataset.isBestAnswer)?this.unmarkBestAnswer(a):s.show({confirm:()=>this.markBestAnswer(a),message:n.get("wbb.thread.markAsBestAnswer.confirmMessage")})}markBestAnswer(e){o.api(this,{actionName:"markAsBestAnswer",parameters:{postID:e}})}unmarkBestAnswer(e){o.api(this,{actionName:"unmarkAsBestAnswer",parameters:{postID:e}})}_ajaxSuccess(){window.location.reload()}_ajaxSetup(){return{data:{className:"wbb\\data\\thread\\ThreadAction",parameters:{threadID:this.threadId}}}}}let d;t.init=function(e,t){d||(d=new l(e,t))}})),define("WoltLabSuite/Forum/Ui/Thread/Enable",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Date/Picker","WoltLabSuite/Core/Dom/Util","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Dialog"],(function(e,t,a,o,r,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importDefault(r),i=a.__importDefault(i),n=a.__importStar(n),s=a.__importDefault(s);class l{constructor(e,t){this.objectId=e,this.callback=t}open(){o.api(this)}submit(e){e.preventDefault();if(document.getElementById("threadEnable_enableNow").checked){const e=document.getElementById("threadEnable_enableNowAndUpdateTime");this.callback(!0,e.checked),s.default.close(this)}else o.api(this,{actionName:"setEnableTime",parameters:{enableTime:r.default.getValue("threadEnable_enableTime")}})}_ajaxSuccess(e){"prepareEnable"===e.actionName?s.default.open(this,e.returnValues.template):(this.callback(!1),s.default.close(this))}_ajaxSetup(){return{data:{actionName:"prepareEnable",className:"wbb\\data\\thread\\ThreadAction",objectIDs:[this.objectId]}}}_dialogSetup(){return{id:"wbbThreadEnable",options:{onClose(){r.default.destroy("threadEnable_enableTime")},onShow:e=>{const t=document.getElementById("threadEnable_enableNow"),a=document.getElementById("threadEnable_enableNowAndUpdateTime");t.addEventListener("change",(()=>{i.default.toggle(document.getElementById("threadEnable_enableTimeContainer")),a.disabled=!a.disabled}));e.querySelector(".formSubmit > button").addEventListener("click",(e=>this.submit(e)))},title:n.get("wbb.thread.edit.enable")},source:null}}}let d;t.init=function(e,t){d||(d=new l(e,t)),d.open()}})),define("WoltLabSuite/Forum/Ui/Thread/Reply",["require","exports","tslib","WoltLabSuite/Core/Date/Picker","WoltLabSuite/Core/Dom/Util","WoltLabSuite/Core/Event/Handler","WoltLabSuite/Core/Language"],(function(e,t,a,o,r,i,n){"use strict";function s(){c.querySelectorAll(".jsThreadQuickReplyEnableTime").forEach((e=>{u.checked?r.default.show(e):r.default.hide(e)}))}function l(e){if("enableTime"===e.returnValues.fieldName){const t=document.getElementById("threadReplyPostEnableTimeDatePicker");e.api.throwError(t.nextElementSibling,n.get(`wbb.post.enableTime.error.${e.returnValues.errorType}`));const a=t.closest(".messageTabMenu");window.jQuery(a).messageTabMenu("showTab","settings",!0),e.cancel=!0}}function d(){o.clear("threadReplyPostEnableTime"),u.checked=!1,s()}Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.reset=t.handleError=t.toggleEnableTime=void 0,o=a.__importStar(o),r=a.__importDefault(r),i=a.__importStar(i),n=a.__importStar(n);const c=document.getElementById("messageQuickReply"),u=document.getElementById("threadReplyDisablePost");t.toggleEnableTime=s,t.handleError=l,t.reset=d,t.init=function(){u.addEventListener("click",s),i.add("com.woltlab.wcf.redactor2","handleError_text",l),i.add("com.woltlab.wcf.redactor2","reset_text",d)}})),define("WoltLabSuite/Forum/Ui/Post/List/Mixed",["require","exports","tslib","WoltLabSuite/Core/Controller/Clipboard","../InlineEditor","../Manager"],(function(e,t,a,o,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importDefault(r),i=a.__importDefault(i),t.init=function(){const e=new i.default(0);new r.default(0,e,{disableEdit:!0}),o.setup({hasMarkedItems:!0,pageClassName:"wbb\\page\\ThreadPage",pageObjectId:0}),new window.WBB.Post.Clipboard(e)}})),define("WoltLabSuite/Forum/Ui/Thread/Modification/Log/Hide",["require","exports","tslib","WoltLabSuite/Core/Ajax","WoltLabSuite/Core/Core","WoltLabSuite/Core/Dom/Change/Listener","WoltLabSuite/Core/Language","WoltLabSuite/Core/Ui/Confirmation","WoltLabSuite/Core/Ui/Notification"],(function(e,t,a,o,r,i,n,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0,o=a.__importStar(o),r=a.__importStar(r),i=a.__importDefault(i),n=a.__importStar(n),s=a.__importStar(s),l=a.__importStar(l);class d{constructor(){document.querySelectorAll(".jsModificationLogEntryHideButton").forEach((e=>{e.addEventListener("click",(e=>this.click(e)))}))}click(e){e.preventDefault();const t=e.currentTarget;if(r.stringToBool(t.dataset.isSummarized)){const e=t.dataset.logIds;s.show({confirm:()=>this.hide(JSON.parse(e)),message:n.get("wbb.thread.modification.log.thread.hide.confirmMessage")})}else{const e=~~t.dataset.logId;s.show({confirm:()=>this.hide([e]),message:n.get("wbb.thread.modification.log.thread.hide.confirmMessage")})}}hide(e){o.api(this,{objectIDs:e})}_ajaxSuccess(e){e.returnValues.logIDs.forEach((e=>{const t=document.querySelector(`.modificationLogEntry[data-log-id="${e}"]`);null==t||t.remove()}));document.querySelector(".wbbThreadPostList").querySelectorAll(".modificationLogEntry").forEach((e=>{const t=e.nextElementSibling;t&&t.classList.contains("modificationLogEntry")||e.classList.add("lastModificationLogEntry")})),i.default.trigger(),l.show()}_ajaxSetup(){return{data:{actionName:"hide",className:"wbb\\data\\modification\\log\\ThreadModificationLogAction"}}}}let c;t.init=function(){c||(c=new d)}}));